<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>RPi Inbox - Live Feed</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!--top of page-->
    <div class="container">
        <h1>Conversation Recorder</h1>
        <div class="list-header">
            <div class="muted" id="lastUpdated">â€”</div>
        </div>
        <!--latest display-->
        <div id="latestContainer" class="latest" aria-live="polite">
            <h2 id="latestTitle">No entries yet...</h2>
            <div class="meta" id="latestMeta"></div>
            <canvas id="latestSpectrum" style="width:100%; height:200px;"></canvas>
            <p id="latestBody" class="muted"></p>
        </div>

        <div class="inbox">
            <div id="inboxList">
                <div class="empty" id="emptyMsg">No entries yet.</div>
            </div>
        </div>
    </div>

    <!-- popup -->
    <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-hidden="true">
        <div class="modal" role="document">
            <div style="display:flex;justify-content:space-between;align-items:center">
                <h3 id="modalTitle">Entry</h3>
                <button class="close-btn" id="modalClose">Close</button>
            </div>
            <div id="modalFreq" class="muted"></div>
            <hr />
            <pre id="modalBody" style="white-space:pre-wrap; font-family:inherit;"></pre>
            <div id="modalFreq" class="muted"></div>
            <canvas id="modalSpectrum" style="width:100%; height:200px;"></canvas>
            <hr />
            <pre id="modalBody" style="white-space:pre-wrap; font-family:inherit;"></pre>

        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>